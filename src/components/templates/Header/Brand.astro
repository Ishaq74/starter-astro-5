---
import { getCollection } from 'astro:content';
import { Icon } from 'astro-icon/components';
import Text from '@components/atoms/Text.astro';
    import { Picture } from 'astro:assets';

const siteIdentities = await getCollection('siteIdentity');
const site = siteIdentities.find((s) => s.data.isDefault) ?? siteIdentities[0];

// Ensure strong types for astro:assets components
const logoUrl = (site?.data?.logoUrl ?? "") as string;
const logoAlt = ((site?.data?.logoAlt ?? site?.data?.title) ?? "") as string;
const siteTitle = (site?.data?.title ?? "") as string;
---

<Picture
  src={logoUrl}
  alt={logoAlt || siteTitle}
  class="brand-logo"
  width={250}
  height={100}
  format="webp"
  fallbackFormat="png"
  loading="eager"
/>
<Text tag="span" textColor="white" className="brand-title">{siteTitle}</Text>
<Icon name="mdi:menu" title="menu" size={26} class="hamburger" />

<style>


.brand-title {
  font-size: 1.875rem;
}

.hamburger {
  color: white;
  position: absolute;
  top: 1rem;
  right: 1rem;
  border: var(--border-width-1) solid white;
  border-radius: var(--radius-1);
  cursor: pointer;
  display: block;
}

@media (min-width: 640px) {
  .brand-logo {
    width: 120px;
    height: 23px;
  }
}

@media (min-width: 768px) {
  .brand-logo {
    width: 100px;
    height: 19px;
  }
  .hamburger {
    display: none;
  }
}

@media (min-width: 1024px) {
  .brand-logo {
    width: 80px;
    height: 15px;
  }
}
</style>
